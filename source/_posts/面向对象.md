---
title: 面向对象
date: 2017-02-07 19:08:37
categories: javascript基础
tags: [笔记迁移, 对象]
---

> 笔记迁移系列，由于原始笔记所在网站即将下线，现将笔记全部迁移，并对原有笔记进行修正或添加

<!-- More -->

面向过程 考虑封装函数 面向对象 会调用就可以了

#### 对象的特征

1.1 属性 1.2方法

2 面向对象思想 OO思想 或者是OOP思想

#### 面向对象的三个特点 ：封装 继承 多态

3.1 封装:对于同一功能函数，只封装一次。以后只需调用，无需重写 【低耦合 高内聚】
3.2 继承:子类可以继承父类的属性和方法
3.3 多态:多种形态【重载 重写】

1 重载: 其实JS中没有严格意义上的重载。有类似重载的功能，传入不同的参数，可实现不同功能
比如任意数求和，可根据传入参数长度不同做一些不同功能
2 重写 子类可以重写父类的属性和方法

#### 面向对象的设计模式

设计模式是用来封装库的。 高级工程师可以手写库。比如jquery库

##### 单例模式

1 单例模式就是把描述同一个对象的属性和方法放在同一个命名空间下。可以避免全局变量的污染和冲突。
命名空间： 描述对象的属性和方法，所存储的空间，起个名字，比如person
2 单例模式的本质就是普通对象。
3 模块化开发：单例模式是最简单的模块化开发
大型项目中，不同人同步进行开发，最后进行代码合并
4 本模块进行函数调用，使用this.属性名 不同模块之间进行函数调用，使用模块名字加点加属性名
5 单例模式的优缺点
5.1 优点
1 避免全局变量的污染和冲突 2 是最简单的模块化开发
5.2 缺点
当多个对象功能相同，会存在大量冗余代码

##### 工厂模式

工厂模式的本质就是封装

封装的三个步骤：

1 引入原材料-》 创建一个空对象

2 加工 -》 给对象添加属性和方法

3 输出 -》 输出加工后的对象

想让工厂模式的调用方式与系统类使用方式，1 首字母大写 2 使用时候通过new 也就是构造函数模式

```js
function person(name,age){
  var obj={};
  obj.name = name;
  obj.age=age;
  return obj;
}
var pwr1 = person('mxx',24)
```

#### 构造函数模式

系统会自动创建对象，this。 手写加工部分 并且默认返回this

```js
function Person(name){
    this.name =name;
}
var p1 =new Person('mxx')
console.dir(p1)
```

构造函数模式与工厂模式区别：
1 工厂模式调用就是普通函数调用， 构造函数模式 调用 通过 new

2 函数体内不同。构造函数只执行加工部分。
为什么学习构造函数
1 自己写类 这些自己写的类，是自定义类。系统的那些，是系统类

2 了解系统类

3 创建实例
构造函数知识点
1 构造函数中的那个this，永远都是new出来的实例

2 构造函数中都是 私有的 属性和方法

3 实例只和this.xxx有关，与var无关

4 构造函数中 ,系统会默认创建实例, 系统会默认返回实例,所以不要手写return

4.1 手写返回基本数据类型，无效。

4.2 手写返回引用数据类型，有影响。以前写的属性方法无效。

5 构造函数是实例和类打交道

9 在new 的时候，如果不需要传参，可以省略小括号。
构造函数缺点
构造函数中的方法并没有实现真正的封装

##### 原型模式,又叫构造函数原型模式

将公共方法放在prototype上

Person.prototype.getName =function(){

}

系统提供的一个prototype属性，存放的是共有的属性或者方法、

实例 类 原型 三者打交道

#### 关于原型模式的一些基础知识

1 每个函数数据类型上，都有一个属性，叫prototype。prototype是个原型 [对象]

2 prototype这个对象，存放的是共有的属性和方法。 他天生自带一个属性constructor， constructor指向 当前构造函数

3 每个对象数据类型上，都有一个属性_proto_，指向当前实例所属类的原型

*  Object.prototype的方法

1 obj.hasOwnProperty()  判断是否为对象的私有属性

2 obj1.isPrototypeOf(Obj2)  obj1是否在obj2的原型链上

3 propertyIsEnumerable：是否为可枚举的属性

* 原型链 _proto_

1 实例可以调用私有的属性方法以及调用共有的；

2 查找属性的规则：

2.1 先看该对象的私有空间是否有，有，就说明是私有属性

2.2 没有就，通过_proto_ 找到原型

2.3 一直找到基类 Object.prototype 在没有就是Undefined

#####  other

没有属性报undefined 没有变量报错