---
title: 数组方法-map详谈
date: 2017-02-15 17:48:05
categories: javascript基础
tags: [array]
---

> 笔记迁移系列，由于原始笔记所在网站即将下线，现将笔记全部迁移，并对原有笔记进行修正或添加

<!-- More -->

#### 项目组中有一个问题

```js
[1,2,3].map(parseInt)
```

输出什么


通过大神指点，如下是分析思路

数组中方法map 是用来进行遍历 接受两个参数

```js
arys.map(callback[, thisArg])
```

第一个参数是回调函数 第二个是this

所以题目中回调函数传入的是parseInt  第二个参数为空

回调函数接受三个参数

```js
function (item, index, array) {...}
```

当前元素  元素下标 原数组

所以这三次遍历 回调函数一次拿到参数为

1 ->  1 , 0 , [1,2,3]
2 ->  2 , 1 , [1,2,3]
3 ->  3 , 2 , [1,2,3]

然后来看parseInt 参数的接受 MDN 解析 [click me](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt)

```js
parseInt(string, radix)
```

接受两个参数 原始字符 基数

* string  要被解析的值。如果参数不是一个字符串，则将其转换为字符串

* radix
一个介于2和36之间的整数(数学系统的基础)，表示上述字符串的基数。
比如参数"10"表示使用我们通常使用的十进制数值系统。始终指定此参数可以消除阅读该代码时的困惑并且保证转换结果可预测。
当未指定基数时，不同的实现会产生不同的结果，通常将值默认为10。

* 返回值

返回解析后的整数值。 如果被解析参数的第一个字符无法被转化成数值类型，则返回 NaN

例如：radix参数为10 将会把第一个参数看作是一个数的十进制表示，8 对应八进制，16 对应十六进制，等等。基数大于 10 时，用字母表中的字母来表示大于 9 的数字。例如十六进制中，使用 A 到 F

在没有指定基数，或者基数为 0 的情况下，JavaScript 作如下处理：

如果字符串 string 以"0x"或者"0X"开头, 则基数是16 (16进制).
如果字符串 string 以"0"开头, 基数是8（八进制）或者10（十进制），那么具体是哪个基数由实现环境决定。ECMAScript 5 规定使用10，但是并不是所有的浏览器都遵循这个规定。因此，永远都要明确给出radix参数的值。
如果字符串 string 以其它任何值开头，则基数是10 (十进制)。
如果第一个字符不能被转换成数字，parseInt返回NaN

所以 parseInt 的三次运算为

parseInt(1, 0)
parseInt(2, 1)
parseInt(3, 2)

后面两次运算的基数不属于有效值  返回NaN

因此最终结果为

[1 NaN NaN]